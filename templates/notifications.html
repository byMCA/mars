{% extends "layout.html" %}

{% block content %}
<div class="min-h-screen bg-black p-6 lg:p-12 font-sans relative overflow-hidden">
    <div class="absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/carbon-fibre.png')] opacity-20 pointer-events-none"></div>
    
    <div class="max-w-4xl mx-auto relative z-10">
        
        <div class="flex items-center justify-between mb-8 border-b border-white/10 pb-4">
            <h1 class="text-2xl font-bold text-white uppercase tracking-widest flex items-center gap-3">
                <span class="w-2 h-8 bg-mars-red"></span>
                INBOX // SECURE_INBOX
            </h1>
            <a href="{{ url_for('dashboard') }}" class="text-xs text-gray-500 hover:text-white font-mono">[ RETURN TO PANEL ]</a>
        </div>

        <div class="space-y-4">
            {% if notifications %}
                {% for notif in notifications %}
                <div class="glass-panel p-5 border-l-4 {% if notif.category == 'warning' %}border-l-red-600{% else %}border-l-blue-500{% endif %} bg-white/5 relative group hover:bg-white/10 transition-colors">
                    
                    <div class="flex justify-between items-start mb-2">
                        <span class="text-[10px] font-mono text-gray-500 uppercase tracking-wider">
                            {{ notif.timestamp.strftime('%d.%m.%Y %H:%M') }} // CENTER
                        </span>
                        {% if notif.category == 'warning' %}
                            <span class="text-[9px] bg-red-900/50 text-red-400 px-2 py-1 border border-red-500/30">HIGH IMPORTANCE</span>
                        {% else %}
                            <span class="text-[9px] bg-blue-900/50 text-blue-400 px-2 py-1 border border-blue-500/30">INFO</span>
                        {% endif %}
                    </div>

                    <p class="text-sm text-gray-200 font-mono leading-relaxed">
                        {{ notif.message }}
                    </p>

                    <div class="absolute bottom-2 right-2 opacity-20 group-hover:opacity-100 transition-opacity">
                        <svg class="w-4 h-4 text-green-500" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" /></svg>
                    </div>
                </div>
                {% endfor %}
            {% else %}
                <div class="text-center py-20 border border-dashed border-gray-800 rounded">
                    <svg class="w-12 h-12 text-gray-700 mx-auto mb-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1" d="M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4" /></svg>
                    <p class="text-gray-500 text-xs font-mono">INBOX IS EMPTY.</p>
                </div>
            {% endif %}
        </div>

    </div>
</div>
{% endblock %}